{
    "entries":  [
                    {
                        "type":  "note",
                        "timestamp":  "2025-11-02T00:00:00.000Z",
                        "versionTag":  "plan-setup",
                        "message":  "Starting (3/6) Update backup-index script\n\nbackup-index-html.ps1+41-4\nbackup-index-html.ps1+2-2\nbackup-mister.ps1+43-1\nfull-backup-workflow.ps1+101-11\nCreated logs.html\n\nlogs.html+2-2\nCompleted (3/6) Update backup-index script\n\nHelder: we bouwen een automatisch logboek dat bij elke backup wordt bijgewerkt en tonen dit in een aparte pagina. Ik heb het meteen geÃ¯mplementeerd en aangesloten op je bestaande PowerShell-scripts.\n\nPlan (kort)\nLogdatastructuur ontwerpen en opslaan in logs/logs.json.\nbackup-index-html.ps1 uitbreiden met automatische JSON-log entry per index-backup.\nbackup-mister.ps1 uitbreiden met JSON-log (met -NoLog switch voor workflows) + artifacts/last-backup.json.\nfull-backup-workflow.ps1 laten loggen: site- en API-status + cloudsync-resultaat.\nNieuwe pagina logs.html bouwen voor een snel, overzichtelijk overzicht per versie.\nWat ik heb gedaan\n1) Logboek-bestand\nNieuw: logs.json\nStructuur:\nentries: array met objecten zoals:\ntype: \"backup\" | \"indexBackup\" | \"workflow\"\ntimestamp (ISO)\nversionTag (bv. v2.1 of index_v19)\nartifacts: paden (zip, indexBackup) en aantal files\nsite: { url, online, status }\napis: { formspree: { url, status }, ablyAuth: { url, status } }\ncloudSync: { target, ok }\ngit: { sha, message, dirty }\n2) backup-index-html.ps1\nMaakt nog steeds index_vN.html aan.\nSchrijft nu automatisch een log entry naar logs.json met:\ntype: indexBackup\nversionTag: index_vN\nartifacts.indexBackup: pad naar backup-bestand\ngit meta (sha, message, dirty) als git beschikbaar is.\n3) backup-mister.ps1\nNieuwe switch: -NoLog (om dubbele logs te voorkomen in de volledige workflow).\nLogt nog steeds naar C:\\Users\\Jordan\\Desktop\\mister-backups\\backup-log.txt.\nSchrijft extra artefactbestand: artifacts/last-backup.json met {timestamp, versionTag, zipPath, filesCount}.\nAls -NoLog NIET gezet is: voegt een JSON log entry toe aan logs/logs.json:\ntype: backup\nversionTag: uit auto-versie\nartifacts.zip + filesCount\ngit meta.\n4) full-backup-workflow.ps1\nRoept backup-mister.ps1 aan met -NoLog (workflow logt zelf alles in 1 record).\nBepaalt versionTag/zip/filesCount via artifacts/last-backup.json.\nCheckt online status van https://mister.us.kg (online + statuscode).\nLeest Formspree endpoint uit index.html en test bereikbaarheidsstatus.\nTest Ably Auth default op http://localhost:3001/ably/token.\nSync naar OneDrive (zoals je script deed) en controleert of het backup-zip bestand op OneDrive staat.\nSchrijft Ã©Ã©n uitgebreide workflow-log entry naar logs.json met alle bovenstaande info.\n5) Aparte pagina: logs.html\nNieuwe pagina op http://localhost:8000/logs.html\nLeest logs.json en toont entries (filter op type, zoekbalk).\nLaat per item versie, tijd, type, site-status en API-status zien + artifacts en git-info."
                    },
                    {
                        "site":  {
                                     "status":  200,
                                     "url":  "https://mister.us.kg",
                                     "online":  true
                                 },
                        "durationMs":  944924,
                        "type":  "workflow",
                        "git":  {
                                    "dirty":  false,
                                    "message":  "Auto-backup 2025-11-02 20:57:32",
                                    "sha":  "4144bb7"
                                },
                        "timestamp":  "2025-11-02T20:57:37.5723714+01:00",
                        "artifacts":  {
                                          "zip":  "C:\\Users\\Jordan\\Desktop\\mister-backups\\mister-backup-v5.8.zip",
                                          "filesCount":  1089
                                      },
                        "cloudSync":  {
                                          "target":  "C:\\Users\\Jordan\\OneDrive\\mister-backups",
                                          "ok":  false
                                      },
                        "apis":  {
                                     "ablyAuth":  {
                                                      "url":  "http://localhost:3001/ably/token",
                                                      "status":  500
                                                  },
                                     "formspree":  {
                                                       "url":  null,
                                                       "status":  null
                                                   }
                                 },
                        "versionTag":  "v5.8"
                    }
                ]
}
